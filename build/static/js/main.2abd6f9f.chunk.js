(this.webpackJsonpip_mana_fe=this.webpackJsonpip_mana_fe||[]).push([[0],{124:function(e,t,n){},125:function(e,t,n){},127:function(e,t,n){"use strict";n.r(t);var c=n(1),i=n(21),s=n.n(i),a=(n(69),n(13)),l=n(8),r=n(6),o=n(62),d=n(19),j=n(52),b=n.n(j),h=n(20),u=(n(72),n(0)),m=n(58),p=n.n(m),O=(n(73),"/"),f="/asset/template/",g=" | IP  Manager",x="/bl_get_ip",_=n(34),v=(n(74),n(3)),y=function(e){var t=e.show,n=e.title,c=e.children,i=e.onDismiss,s=e.WrapClass,a=e.CloseModal;return t?Object(v.jsx)("div",{className:s,onClick:i,children:Object(v.jsxs)("div",{className:"modal_container",onClick:function(e){return e.stopPropagation()},children:[Object(v.jsxs)("div",{className:"modal_title",children:[Object(v.jsx)("span",{className:"modal_close_btn",onClick:a,children:Object(v.jsx)(u.b.Provider,{value:{size:16,color:"#939393"},children:Object(v.jsx)(_.b,{})})}),Object(v.jsx)("p",{children:n})]}),c]})}):null},N=(n(76),"loading"),C="loaded",w="error",k="success",P=n(61),S=n(135),E=n(17),D=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Sep"],T=function(e){return"string"!==typeof e?e:e.replace(/["']/g,"")},I=function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],c=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i="";if(!e||0===e.length)return"";var s=new Date(e);return c?t&&(i+=s.getFullYear(),i+="-",i+=s.getMonth()+1<10?"0"+(s.getMonth()+1):s.getMonth()+1,i+="-",i+=s.getDate()<10?"0"+s.getDate():s.getDate()):(t&&(i+=D[s.getMonth()],i+=" ",i+=s.getDate()<10?"0"+s.getDate():s.getDate(),i+=", ",i+=s.getFullYear(),i+=" "),n&&(i+=s.getHours()<10?"0"+s.getHours():s.getHours(),i+=":",i+=s.getMinutes()<10?"0"+s.getMinutes():s.getMinutes(),i+=":",i+=s.getSeconds()<10?"0"+s.getSeconds():s.getSeconds())),i};var M=function(e){var t=e._title,n=Object(c.useState)({show:!1}),i=Object(d.a)(n,2),s=i[0],l=i[1],j=Object(c.useState)({show:!1}),m=Object(d.a)(j,2),_=m[0],k=m[1],D=Object(c.useState)([]),M=Object(d.a)(D,2),A=M[0],L=M[1],B=Object(c.useState)(0),F=Object(d.a)(B,2),H=F[0],J=F[1],z=Object(c.useState)(0),U=Object(d.a)(z,2),W=U[0],V=U[1],Y=Object(c.useState)(""),q=Object(d.a)(Y,2),G=q[0],K=q[1],R=Object(c.useState)({uploaded:!1,name:"No file",file:null}),Q=Object(d.a)(R,2),X=Q[0],Z=Q[1],$=Object(E.c)((function(e){return e.Status})),ee=$.loading,te=$.error,ne=$._msg,ce=Object(E.b)(),ie=10,se=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:ie;ce({type:N});var n=new Headers;n.append("Content-Type","application/json");var c=JSON.stringify({limit:t,offset:e}),i={method:"POST",headers:n,body:c,redirect:"follow"};fetch(x,i).then((function(e){return e.json()})).then((function(e){200===e.code?(ce({type:C}),L(e.msg.list),J(e.msg.total)):ce({type:w,_msg:e.msg[0]})})).catch((function(e){ce({type:w,_msg:e})}))},ae=function(){l(Object(r.a)(Object(r.a)({},s),{},{show:!1}))},le=function(){k(Object(r.a)(Object(r.a)({},_),{},{show:!1})),Z({name:"No file",uploaded:!1,file:null})},re=function(){if(null!==X.file){ce({type:N});var e=new FormData;e.append("blacklist_file",X.file,X.name);var t,n={method:"POST",body:e,redirect:"follow"};0===_.mode&&(t="/bl_new_excel"),1===_.mode&&(t="/bl_update_excel"),2===_.mode&&(t="/bl_delete_excel"),fetch(t,n).then((function(e){return e.json()})).then((function(e){if(le(),200===e.code)ce({type:C}),h.b.success("Create blacklist successful!"),se(0);else if(202===e.code){var t=document.createElement("a");t.href=O+e.msg[0].url,t.setAttribute("target","_blank"),document.body.appendChild(t),t.click(),document.body.removeChild(t),ce({type:w,_msg:"Duplicate IPs"})}else ce({type:w,_msg:e.msg[0]})})).catch((function(e){ce({type:w,_msg:e})}))}else h.b.error("Choose a file!")};return Object(c.useEffect)((function(){document.title=t+g,se(W)}),[W]),te&&(h.b.error(ne),ce({type:C})),Object(v.jsxs)("div",{className:"container",children:[Object(v.jsxs)(y,{CloseModal:le,show:_.show,WrapClass:"modal_wrap",title:_.title,children:[Object(v.jsxs)("ol",{children:[0===_.mode&&Object(v.jsxs)("li",{children:["Download template from ",Object(v.jsx)(a.b,{to:{pathname:f+"Create_BlackList_Template.xlsx"},target:"_blank",rel:"noopener noreferrer",children:"here"})]}),1===_.mode&&Object(v.jsxs)("li",{children:["Download template from ",Object(v.jsx)(a.b,{to:{pathname:f+"Update_BlackList_Template.xlsx"},target:"_blank",rel:"noopener noreferrer",children:"here"})]}),2===_.mode&&Object(v.jsxs)("li",{children:["Download template from ",Object(v.jsx)(a.b,{to:{pathname:f+"Delete_BlackList_Template.xlsx"},target:"_blank",rel:"noopener noreferrer",children:"here"})]}),Object(v.jsx)("li",{children:"Fill all data into template"}),Object(v.jsxs)("li",{children:[Object(v.jsx)("label",{className:"link_style",htmlFor:"upload_file",children:"Click here"})," to choose a file"]}),Object(v.jsx)("input",{className:"hide",onChange:function(e){Z(Object(r.a)(Object(r.a)({},X),{},{uploaded:!0,name:e.target.files[0].name,file:e.target.files[0]}))},id:"upload_file",type:"file",accept:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"})]}),null!==X.file&&Object(v.jsxs)("span",{className:"margin-left-5",children:["File name: ",X.name]}),Object(v.jsxs)("div",{className:"margin-top-15",children:[0===_.mode&&Object(v.jsx)("button",{className:"btn theme_green pull-right",onClick:re,children:"Create"}),1===_.mode&&Object(v.jsx)("button",{className:"btn theme_yellow pull-right",onClick:re,children:"Update"}),2===_.mode&&Object(v.jsx)("button",{className:"btn theme_red pull-right",onClick:re,children:"Delete"})]})]}),Object(v.jsxs)(y,{CloseModal:ae,WrapClass:"modal_wrap",show:s.show,title:s.title,children:[Object(v.jsx)("div",{children:Object(v.jsx)("input",{value:s.ip,onChange:function(e){return l(Object(r.a)(Object(r.a)({},s),{},{ip:e.target.value}))},className:"form-control",placeholder:"IP"})}),Object(v.jsx)("div",{className:"margin-top-20",children:Object(v.jsx)("input",{value:s.desc,onChange:function(e){return l(Object(r.a)(Object(r.a)({},s),{},{desc:e.target.value}))},className:"form-control",placeholder:"Description"})}),Object(v.jsx)("div",{className:"margin-top-20",children:Object(v.jsx)(p.a,{className:"form-control",selected:s.create_time,onChange:function(e){return l(Object(r.a)(Object(r.a)({},s),{},{create_time:e}))}})}),Object(v.jsxs)("div",{className:"margin-top-20 text-center",children:[s.editMode&&Object(v.jsx)("button",{className:"btn theme_green",onClick:function(){ce({type:N});var e=new Headers;e.append("Content-Type","application/json");var t=JSON.stringify({id:s.id,ip:s.ip,desc:s.desc,create_time:s.create_time});fetch("/bl_edit_ip",{method:"POST",headers:e,body:t,redirect:"follow"}).then((function(e){return e.json()})).then((function(e){if(200===e.code){ce({type:C}),h.b.success("Update successful!");var t=A;t[s.index]=JSON.parse(JSON.stringify(s)),L(t),ae()}else ce({type:w,_msg:e.msg[0]})})).catch((function(e){ce({type:w,_msg:e})}))},children:"Save"}),!s.editMode&&Object(v.jsx)("button",{className:"btn theme_green",onClick:function(){if(s.ip&&0!==s.ip.length){var e=new Headers;e.append("Content-Type","application/json");var t=JSON.stringify({ip:s.ip,desc:s.desc,create_time:s.create_time});fetch("/bl_add_ip",{method:"POST",headers:e,body:t,redirect:"follow"}).then((function(e){return e.json()})).then((function(e){200===e.code?(ae(),se(0)):ce({type:w,_msg:e.msg[0]})})).catch((function(e){ce({type:w,_msg:e})}))}else h.b.error("IP is required!")},children:"Create new"})]})]}),Object(v.jsx)(h.a,{position:"top-center",autoClose:3e3,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!1,theme:"colored",draggable:!1,pauseOnHover:!0}),ee&&Object(v.jsx)("div",{className:"center-div",children:Object(v.jsx)("span",{className:"loader"})}),!ee&&Object(v.jsxs)("div",{className:"bl_container",children:[Object(v.jsxs)("div",{className:"add_bl",children:[Object(v.jsx)("input",{className:"form-control border-radius-100 pull-right margin-left-10",style:{width:"0"},value:G,onChange:function(e){return K(e.target.value)},onKeyDown:function(e){if(""===G.trim()&&13===e.keyCode)se(0);else if(13===e.keyCode){ce({type:N});var t=new Headers;t.append("Content-Type","application/json");var n=JSON.stringify({ip:e.target.value});fetch("/bl_search_ip",{method:"POST",headers:t,body:n,redirect:"follow"}).then((function(e){return e.json()})).then((function(e){200===e.code?(ce({type:C}),L(e.msg.list),J(e.msg.total)):ce({type:w,_msg:e.msg[0]})})).catch((function(e){ce({type:w,_msg:e})}))}},placeholder:"Search by IP"}),Object(v.jsxs)("button",{className:"btn margin-right-10 theme_gray",onClick:function(){l({title:"Add new Blacklist IP",show:!0,ip:"",desc:"",create_time:"",editMode:!1,index:-1})},children:[Object(v.jsx)(P.b,{}),"\xa0 Add blacklist IP"]}),Object(v.jsxs)("button",{className:"btn margin-right-10 theme_green",onClick:function(){k(Object(r.a)(Object(r.a)({},_),{},{title:"Create Blacklist IP by Excel",show:!0,mode:0}))},children:[Object(v.jsx)(S.c,{}),"\xa0Add (Excel)"]}),Object(v.jsxs)("button",{className:"btn margin-right-10 theme_yellow",onClick:function(){k(Object(r.a)(Object(r.a)({},_),{},{title:"Update Blacklist IP by Excel",show:!0,mode:1}))},children:[Object(v.jsx)(S.c,{}),"\xa0Update (Excel)"]}),Object(v.jsxs)("button",{className:"btn margin-right-10 theme_red",onClick:function(){k(Object(r.a)(Object(r.a)({},_),{},{title:"Delete Blacklist IP by Excel",show:!0,mode:2}))},children:[Object(v.jsx)(S.c,{}),"\xa0Delete (Excel)"]}),Object(v.jsxs)("button",{className:"btn margin-right-10 theme_cyan",onClick:function(){b()({title:"LARGE DATA",text:"We will export all data and it's so large. Continue?",icon:"warning",buttons:!0,dangerMode:!0}).then((function(e){if(e){fetch("/bl_export_excel",{method:"POST",redirect:"follow"}).then((function(e){return e.json()})).then((function(e){if(200===e.code){var t=document.createElement("a");t.href=O+e.msg[0].url,t.setAttribute("target","_blank"),document.body.appendChild(t),t.click(),document.body.removeChild(t)}else ce({type:w,_msg:e.msg[0]})})).catch((function(e){ce({type:w,_msg:e})}))}}))},children:[Object(v.jsx)(S.c,{}),"\xa0Export (Excel)"]}),Object(v.jsxs)("button",{className:"btn margin-right-10 theme_cyan",onClick:function(){var e=new Headers;e.append("Content-Type","application/json");var t=JSON.stringify({createdAt_from:(new Date).setUTCHours(0,0,0,0),createdAt_to:(new Date).setUTCHours(23,59,59,999)});fetch("/bl_list_imported_ip_excel",{method:"POST",headers:e,body:t,redirect:"follow"}).then((function(e){return e.json()})).then((function(e){if(200===e.code){var t=document.createElement("a");t.href=O+e.msg[0].url,t.setAttribute("target","_blank"),document.body.appendChild(t),t.click(),document.body.removeChild(t)}else ce({type:w,_msg:e.msg[0]})})).catch((function(e){ce({type:w,_msg:e})}))},children:[Object(v.jsx)(S.c,{}),"\xa0Export Imported IP Today (Excel)"]})]}),0===A.length&&Object(v.jsx)("div",{className:"center-div",children:Object(v.jsx)("h3",{children:"No blacklist IPs founded!"})}),0!==A.length&&Object(v.jsxs)(v.Fragment,{children:[Object(v.jsxs)("table",{className:"nice_theme margin-top-20",children:[Object(v.jsxs)("thead",{className:"text-center",children:[Object(v.jsx)("td",{children:"Index"}),Object(v.jsx)("td",{children:"Blacklist IPs"}),Object(v.jsx)("td",{children:"Validity"}),Object(v.jsx)("td",{children:"Create time"}),Object(v.jsx)("td",{children:"Create at"}),Object(v.jsx)("td",{children:"Last update"}),Object(v.jsx)("td",{children:"Edit / Del"})]}),Object(v.jsx)("tbody",{children:A.map((function(e,t){return Object(v.jsxs)("tr",{children:[Object(v.jsx)("td",{className:"text-center",children:W+t+1}),Object(v.jsx)("td",{className:"bold",children:T(e.ip)}),Object(v.jsx)("td",{children:T(e.desc)}),Object(v.jsx)("td",{children:I(T(e.create_time))}),Object(v.jsx)("td",{children:I(T(e.createdAt))}),Object(v.jsx)("td",{children:I(T(e.updatedAt))}),Object(v.jsxs)("td",{className:"table_icon text-center",children:[Object(v.jsx)("span",{className:"margin-right-20",onClick:function(){return function(e,t){l(Object(r.a)(Object(r.a)({},e),{},{show:!0,title:"Edit blacklist ip",index:t,editMode:!0}))}(e,t)},children:Object(v.jsx)(u.b.Provider,{value:{size:20,color:"#1886b5"},children:Object(v.jsx)(S.b,{})})}),Object(v.jsx)("span",{onClick:function(){return function(e,t){b()({title:"DELETE",text:"Do you want delete IP ".concat(e.ip,"?"),icon:"warning",buttons:!0,dangerMode:!0}).then((function(n){if(n){var c=new Headers;c.append("Content-Type","application/json");var i=JSON.stringify({id:T(e.id)});fetch("/bl_remove_ip",{method:"POST",headers:c,body:i,redirect:"follow"}).then((function(e){return e.json()})).then((function(e){if(200===e.code){ce({type:C}),h.b.success("Delete successful!"),A.splice(t,1);var n=Object(o.a)(A);L(n)}else h.b.error("Error while deleting!"),ce({type:w,msg:e.msg})})).catch((function(e){h.b.error("Error while deleting!"),ce({type:w,_msg:e})}))}}))}(e,t)},children:Object(v.jsx)(u.b.Provider,{value:{size:20,color:"#c7003f"},children:Object(v.jsx)(S.a,{})})})]})]},e.id)}))})]}),Object(v.jsxs)("div",{style:{display:"inline-block"},children:["Page ",W/ie+1," / ",Math.ceil(H/ie)]}),Object(v.jsxs)("div",{className:"pagination padding-top-20 padding-right-10 pull-right",children:[Object(v.jsx)("span",{children:"<<"}),Array.from({length:Math.ceil(H/ie)},(function(e,t){return Object(v.jsx)("span",{onClick:function(){return V(t*ie)},children:t+1},t)})),Object(v.jsx)("span",{children:">>"})]})]})]})]})},A=(n(124),n.p+"static/media/1.69af5be9.jpg"),L=n(31),B="OPEN",F="CLOSE",H="SELECT_ITEM";var J=function(e){var t=e.ListItems,n=Object(E.c)((function(e){return e.SideBar})),i=n.is_open,s=n._index,l=Object(E.b)(),r=function(){var e=window;return{width:e.innerWidth,height:e.innerHeight}},o=Object(c.useState)(r()),j=Object(d.a)(o,2),b=j[0],h=j[1];Object(c.useEffect)((function(){function e(){h(r())}return window.addEventListener("resize",e),function(){window.removeEventListener("resize",e)}}),[]);var m=function(){l(i?{type:F}:{type:B})},p=function(e){l({type:H,index:e})};return Object(v.jsxs)("div",{className:"sidebar "+(i?"open":"closed"),style:{height:b.height+"px"},children:[i&&Object(v.jsxs)(v.Fragment,{children:[Object(v.jsxs)("div",{className:"sidebar_avatar",children:[Object(v.jsx)("span",{onClick:m,className:"state_button",children:Object(v.jsx)(u.b.Provider,{value:{className:"toogle_button"},children:Object(v.jsx)(L.c,{})})}),Object(v.jsx)("img",{src:A}),Object(v.jsx)("br",{}),Object(v.jsx)("span",{children:"Hello, Daumoe!"})]}),Object(v.jsx)("div",{className:"sidebar_items",children:Object(v.jsx)("ul",{children:t.map((function(e,t){return Object(v.jsx)("li",{onClick:function(){return p(t)},children:Object(v.jsxs)(a.b,{to:e.path,children:[Object(v.jsx)(u.b.Provider,{value:{size:20},children:e.icon}),"\xa0\xa0 ",Object(v.jsx)("span",{children:e.name})]})},t)}))})})]}),!i&&Object(v.jsx)(v.Fragment,{children:Object(v.jsx)("div",{className:"mini_sidebar_items",children:Object(v.jsxs)("ul",{children:[Object(v.jsx)("li",{onClick:m,children:Object(v.jsx)(u.b.Provider,{value:{className:"toogle_button"},children:Object(v.jsx)(L.b,{size:20})})}),t.map((function(e,t){return Object(v.jsx)("li",{onClick:function(){return p(t)},className:t==s?"selected_item":"",children:Object(v.jsx)(a.b,{to:e.path,children:Object(v.jsx)(u.b.Provider,{value:{size:25,className:t==s?"selected_item":""},children:e.icon})})},t)}))]})})})]})},z=(n(125),function(e){var t=e._title,n=Object(E.b)();return Object(c.useEffect)((function(){document.title=t+g}),[]),Object(v.jsx)("div",{className:"notfound_wrap",children:Object(v.jsxs)("div",{className:"center-div text-center",children:[Object(v.jsx)("span",{className:"notfound_title",children:"404"}),Object(v.jsxs)("span",{className:"notfound_desc",children:["Hmm, seem you're lost! Let's go\xa0",Object(v.jsx)(a.b,{to:"/blacklist",onClick:function(){n({type:H,index:0})},children:"back"})]})]})})}),U=[{icon:Object(v.jsx)(L.a,{}),path:"/blacklist",name:"Blacklist IP"},{icon:Object(v.jsx)(P.a,{}),path:"/vlan",name:"VLAN IP (Pending)"},{icon:Object(v.jsx)(_.a,{}),path:"/notification",name:"Notifications (Pending)"}],W=function(){return Object(v.jsxs)(a.a,{children:[Object(v.jsx)(l.a,{to:"/blacklist"}),Object(v.jsx)(J,{ListItems:U}),Object(v.jsxs)(l.d,{children:[Object(v.jsx)(l.b,{exact:!0,path:"/blacklist",children:Object(v.jsx)(M,{_title:"Blacklist"})}),Object(v.jsx)(l.b,{children:Object(v.jsx)(z,{_title:"404"})})]})]})},V=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,136)).then((function(t){var n=t.getCLS,c=t.getFID,i=t.getFCP,s=t.getLCP,a=t.getTTFB;n(e),c(e),i(e),s(e),a(e)}))},Y=n(40),q=!1,G={is_open:q,_index:0},K=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:G,t=arguments.length>1?arguments[1]:void 0,n=t.type;switch(n){case B:return Object(r.a)(Object(r.a)({},e),{},{is_open:true});case F:return Object(r.a)(Object(r.a)({},e),{},{is_open:q});case H:return Object(r.a)(Object(r.a)({},e),{},{is_open:q,_index:t.index});default:return e}},R={loading:!0,error:!1,_msg:""},Q=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:R,t=arguments.length>1?arguments[1]:void 0,n=t.type;switch(n){case N:return Object(r.a)(Object(r.a)({},e),{},{loading:!0,error:!1,_msg:"loading"});case w:return Object(r.a)(Object(r.a)({},e),{},{error:!0,loading:!1,_msg:t._msg});case C:case k:return Object(r.a)(Object(r.a)({},e),{},{loading:!1,error:!1,_msg:""});default:return e}},X=Object(Y.a)({SideBar:K,Status:Q}),Z=Object(Y.b)(X);s.a.render(Object(v.jsx)(E.a,{store:Z,children:Object(v.jsx)(W,{})}),document.getElementById("root")),V()},69:function(e,t,n){},74:function(e,t,n){},76:function(e,t,n){}},[[127,1,2]]]);
//# sourceMappingURL=main.2abd6f9f.chunk.js.map