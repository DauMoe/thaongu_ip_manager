(this.webpackJsonpip_mana_fe=this.webpackJsonpip_mana_fe||[]).push([[0],{40:function(e,t,c){},41:function(e,t,c){},48:function(e,t,c){},51:function(e,t,c){"use strict";c.r(t);var n=c(1),a=c(14),i=c.n(a),s=(c(40),c(3)),r=c(17),l=c(6),o=c(12),j=c(5),d=(c(41),c(11)),b="OPEN",u="CLOSE",h="SELECT_ITEM",p=" | IP  Manager",m="/obj/get_object_info",O=c(2),x=function(e){var t=e._title,c=Object(d.b)();return Object(n.useEffect)((function(){document.title=t+p}),[]),Object(O.jsx)("div",{className:"notfound_wrap",children:Object(O.jsxs)("div",{className:"center-div text-center",children:[Object(O.jsx)("span",{className:"notfound_title",children:"404"}),Object(O.jsxs)("span",{className:"notfound_desc",children:["Hmm, seem you're lost! Let's go\xa0",Object(O.jsx)(o.b,{to:"/blacklist",onClick:function(){c({type:h,index:0})},children:"back"})]})]})})},g=(c(48),"loading"),f="loaded",v="error",_="success",y=c(29),N=c(30),w=c(31),C=c(32),k=c(0);var S=function(e){var t=e._title,c=Object(d.b)(),a=Object(d.c)((function(e){return e.Status})),i=(a.loading,a.error,a._msg,Object(n.useState)({})),r=Object(l.a)(i,2),j=r[0],b=r[1],u=Object(n.useState)(!1),h=Object(l.a)(u,2),m=h[0],x=h[1],g=Object(n.useState)([]),_=Object(l.a)(g,2),S=_[0],P=_[1],L=Object(n.useState)(""),T=Object(l.a)(L,2),z=T[0],R=T[1],E=Object(n.useState)({notMatchRegex:!1,value:""}),F=Object(l.a)(E,2),I=F[0],M=F[1],J=[],B=function(e){M(Object(s.a)(Object(s.a)({},I),{},{notMatchRegex:!1,value:""})),b(e)};return Object(n.useEffect)((function(){document.title=t+p,function(e,t,n){var a=new Headers;a.append("Content-Type","application/json");var i={method:"POST",headers:a,body:JSON.stringify(t),redirect:"follow"};fetch(e,i).then((function(e){return e.json()})).then((function(e){200===e.code?(c({type:f}),n(e.msg)):c({type:v,msg:e.msg[0]})})).catch((function(e){c({type:v,msg:e})}))}("/rules/list",void 0,(function(e){P(e),J=JSON.parse(JSON.stringify(e)),e.length>0&&B({id:e[0].id})}))}),[]),Object(O.jsx)("div",{className:"container",onClick:function(){return x(!1)},children:Object(O.jsxs)("div",{className:"box-style",style:{height:"calc(100% - 40px)",padding:"20px",display:"flex",position:"relative"},children:[Object(O.jsxs)("div",{style:{width:"300px",height:"calc(100% - 30px)",display:"inline-block"},children:[Object(O.jsx)("input",{className:"form-control",disabled:!0,onKeyDown:function(e){if(R(e.target.value),13===e.keyCode){if(""===z.trim())return void P(J);var t=[];S.map((function(e,c){e.name.toLowerCase().includes(z.toLowerCase())&&t.push(e)})),P(t)}},placeholder:"Find by rule's name ..."}),Object(O.jsx)("div",{className:"list-container margin-top-10",children:0===S.length?Object(O.jsx)("div",{children:Object(O.jsx)("span",{children:"No rule founded!"})}):S.map((function(e,t){return Object(O.jsx)("div",{className:"list-item",onClick:function(t){return B(e)},children:e.rule_name},t)}))})]}),Object(O.jsxs)("div",{style:{width:"calc(100% - 350px)",height:"calc(100% - 70px)",marginLeft:"50px",marginTop:"50px",display:"inline-block",overflow:"auto",padding:"10px"},children:[Object(O.jsxs)("div",{className:"margin-top-20",children:[Object(O.jsx)("label",{htmlFor:"name",children:Object(O.jsx)("span",{className:"bold",children:"Rule's name:"})}),Object(O.jsx)("input",{className:"form-control",id:"name",value:j.rule_name,onChange:function(e){b(Object(s.a)(Object(s.a)({},j),{},{rule_name:e.target.value}))}})]}),Object(O.jsxs)("div",{className:"margin-top-20",children:[Object(O.jsx)("label",{htmlFor:"desc",children:Object(O.jsx)("span",{className:"bold",children:"Rule's description:"})}),Object(O.jsx)("input",{className:"form-control",id:"desc",value:j.rule_desc,onChange:function(e){b(Object(s.a)(Object(s.a)({},j),{},{rule_desc:e.target.value}))}})]}),Object(O.jsxs)("div",{className:"margin-top-20",children:[Object(O.jsxs)("label",{htmlFor:"reg",children:[Object(O.jsx)("span",{className:"bold",children:"Rule's regex: "}),"(Regex instruction ",Object(O.jsx)(o.b,{target:"_blank",to:{pathname:"https://docs.microsoft.com/en-us/dotnet/standard/base-types/regular-expression-language-quick-reference"},children:"here"}),")"]}),Object(O.jsx)("input",{className:"form-control",id:"reg",value:j.rule_regex,onChange:function(e){b(Object(s.a)(Object(s.a)({},j),{},{rule_regex:e.target.value}))}})]}),Object(O.jsxs)("div",{className:"margin-top-20",children:[Object(O.jsx)("label",{htmlFor:"test_regex",children:Object(O.jsx)("span",{className:"bold",children:"Test regex: "})}),Object(O.jsx)("input",{className:"form-control",id:"test_regex",placeholder:"Type something",value:I.value,onChange:function(e){var t=new RegExp(j.regex);M(Object(s.a)(Object(s.a)({},I),{},{value:e.target.value,notMatchRegex:""!==e.target.value&&!t.test(e.target.value)}))}}),I.notMatchRegex&&Object(O.jsx)("small",{className:"error",children:"Not match regex"})]}),Object(O.jsx)("div",{className:"margin-top-20",children:Object(O.jsxs)("small",{className:"italic",children:["(Created: ",j.created_at,", Last update: ",j.updated_at,")"]})}),Object(O.jsxs)("div",{className:"margin-top-20",children:[Object(O.jsxs)("button",{className:"btn pull-right theme_red margin-left-10",children:[Object(O.jsx)(k.b.Provider,{value:{size:22,color:"white",className:"middle-btn"},children:Object(O.jsx)(y.Cw,{})}),"\xa0Delete rule"]}),Object(O.jsxs)("button",{className:"btn pull-right theme_cyan",children:[Object(O.jsx)(k.b.Provider,{value:{size:22,color:"white",className:"middle-btn"},children:Object(O.jsx)(N.zW,{})}),"\xa0Save change"]})]})]}),Object(O.jsxs)("div",{onClick:function(e){return e.stopPropagation()},children:[Object(O.jsx)("span",{className:"fab-button",onClick:function(e){e.stopPropagation(),x(!m)},children:Object(O.jsx)(k.b.Provider,{value:{size:25,color:"white"},children:Object(O.jsx)(w.Pr,{})})}),Object(O.jsx)("div",{className:m?"application-box flex":"application-box",children:Object(O.jsxs)("button",{className:"btn theme_green700 margin-10",children:[Object(O.jsx)(k.b.Provider,{value:{size:22,className:"middle-btn"},children:Object(O.jsx)(C.c,{})}),"\xa0New Rule"]})})]})]})})},P=c(26),L=c(22);c(49);var T=function(e){var t=e._title,c=e._obj_type_id,a=e._obj_type_name,i=Object(d.b)(),s=Object(n.useState)([]),o=Object(l.a)(s,2),j=o[0],b=o[1],u=Object(n.useState)([]),h=Object(l.a)(u,2),x=h[0],g=h[1],_=Object(n.useState)(!1),S=Object(l.a)(_,2),T=S[0],z=S[1],R=function(e,t,c){var n=new Headers;n.append("Content-Type","application/json");var a={method:"POST",headers:n,body:JSON.stringify(t),redirect:"follow"};fetch(e,a).then((function(e){return e.json()})).then((function(e){200===e.code?(i({type:f}),c(e.msg)):i({type:v,msg:e.msg[0]})})).catch((function(e){i({type:v,msg:e})}))},E=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1;if(t>-1){var c=Object(P.a)(x);c.map((function(e,c){e.selected=c===t}))}var n={obj_id:e.obj_id};R(m,n,(function(e){b(e)}))};return Object(n.useEffect)((function(){document.title=t+p,R("/obj/list",{obj_type_id:c},(function(e){var t,c=Object(r.a)(e);try{for(c.s();!(t=c.n()).done;){t.value.match_regex=!0}}catch(n){c.e(n)}finally{c.f()}g(e),e.length>0&&E(e[0],0)}))}),[c]),Object(O.jsxs)("div",{className:"container",onClick:function(){return z(!1)},children:[Object(O.jsx)(L.a,{position:"top-center",autoClose:3e3,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!1,theme:"colored",draggable:!1,pauseOnHover:!0}),Object(O.jsxs)("div",{className:"box-style",style:{height:"calc(100% - 40px)",padding:"20px",display:"flex",position:"relative"},children:[Object(O.jsxs)("div",{style:{width:"300px",height:"calc(100% - 30px)",display:"inline-block"},children:[Object(O.jsx)("input",{className:"form-control",disabled:!0,onKeyDown:function(){},placeholder:"Find by ".concat(a.toLowerCase()," name ...")}),Object(O.jsx)("div",{className:"list-container margin-top-10",children:0===x.length?Object(O.jsx)("div",{children:Object(O.jsx)("span",{children:"No object!"})}):x.map((function(e,t){return Object(O.jsx)("div",{className:!0===e.selected?"list-item theme_green":"list-item",onClick:function(c){return E(e,t)},children:e.obj_name},t)}))})]}),x.length>0&&Object(O.jsxs)("div",{style:{width:"calc(100% - 350px)",height:"calc(100% - 70px)",marginLeft:"50px",display:"inline-block",overflow:"auto",padding:"10px"},children:[Object(O.jsx)("div",{style:{width:"100%",display:"block",textAlign:"right",textTransform:"capitalize"},children:j.length>0&&Object(O.jsxs)("h2",{children:[a.toLowerCase()," : ",j[0].obj_name]})}),j.map((function(e,t){return Object(O.jsxs)("div",{className:"margin-top-20",children:[Object(O.jsx)("label",{htmlFor:"_pro_item_"+t,children:Object(O.jsxs)("span",{className:"bold",style:{textTransform:"capitalize"},children:[e.pro_name.toLowerCase(),":"]})}),Object(O.jsx)("input",{className:!1===e.match_regex?"form-control form-control-err":"form-control",placeholder:e.pro_desc,id:"_pro_item_"+t,value:e.pro_value,onChange:function(e){return function(e,t){var c=Object(P.a)(j),n=new RegExp(c[t].rule_regex,"g");c[t].pro_value=e.target.value,c[t].match_regex=n.test(e.target.value),b(c)}(e,t)}}),Object(O.jsxs)("small",{className:"italic",children:["(Created: ",e.created_at,", Last update: ",e.updated_at,")"]}),Object(O.jsx)("br",{}),!1===e.match_regex&&Object(O.jsxs)("small",{style:{color:"red"},children:["Not match rule of ",e.pro_name.toLowerCase(),"!"]})]},t)})),Object(O.jsxs)("div",{className:"margin-top-20",children:[Object(O.jsxs)("button",{className:"btn pull-right theme_red margin-left-10",children:[Object(O.jsx)(k.b.Provider,{value:{size:22,color:"white",className:"middle-btn"},children:Object(O.jsx)(y.Cw,{})}),"\xa0Delete rule"]}),Object(O.jsxs)("button",{className:"btn pull-right theme_cyan",onClick:function(){var e,t=!1,c=Object(r.a)(j);try{for(c.s();!(e=c.n()).done;){var n=e.value;if(!1===n.match_regex){L.b.error("Value of ".concat(n.pro_name," property is not match rule's regex!")),t=!0;break}}}catch(o){c.e(o)}finally{c.f()}if(!t){var a,i=[],s=Object(r.a)(j);try{for(s.s();!(a=s.n()).done;){var l=a.value;i.push({obj_id:l.obj_id,pro_id:l.pro_id,pro_value:l.pro_value})}}catch(o){s.e(o)}finally{s.f()}R("/obj/update_property",{list_property:i},(function(e){L.b.success(e),E(j[0],0)}))}},children:[Object(O.jsx)(k.b.Provider,{value:{size:22,color:"white",className:"middle-btn"},children:Object(O.jsx)(N.zW,{})}),"\xa0Save change"]})]})]}),Object(O.jsxs)("div",{onClick:function(e){return e.stopPropagation()},children:[Object(O.jsx)("span",{className:"fab-button",onClick:function(e){e.stopPropagation(),z(!T)},children:Object(O.jsx)(k.b.Provider,{value:{size:25,color:"white"},children:Object(O.jsx)(w.Pr,{})})}),Object(O.jsx)("div",{className:T?"application-box flex":"application-box",children:Object(O.jsxs)("button",{className:"btn theme_green700 margin-10",children:[Object(O.jsx)(k.b.Provider,{value:{size:22,className:"middle-btn"},children:Object(O.jsx)(C.c,{})}),"\xa0Create new object"]})})]})]})]})},z=(c(50),c(13)),R=c(18),E=c(33),F=c.p+"static/media/sidebar_bg.4093c966.png",I=c.p+"static/media/vnpt.ac4800f4.svg";var M=function(e){var t=e.list_item,c=Object(n.useState)(!0),a=Object(l.a)(c,2),i=a[0],s=a[1],r=function(){var e=window;return{width:e.innerWidth,height:e.innerHeight}},j=Object(n.useState)(r()),d=Object(l.a)(j,2),b=d[0],u=d[1],h=function(e){var t=R[e];return t?Object(O.jsx)(t,{}):Object(O.jsx)(y.ac,{})};return Object(n.useEffect)((function(){function e(){u(r())}return window.addEventListener("resize",e),function(){window.removeEventListener("resize",e)}}),[]),Object(O.jsxs)(z.c,{image:F,breakPoint:"md",collapsed:i,style:{height:b.height+"px",display:"inline-block",position:"fixed",top:"0",left:"0"},children:[Object(O.jsx)(z.f,{children:Object(O.jsxs)("div",{style:{display:"flex",alignItems:"center",padding:"24px",textTransform:"uppercase",fontWeight:"bold",fontSize:18,letterSpacing:"1px",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap",color:"#e5e5e5"},children:[Object(O.jsx)("span",{onClick:function(){return s(!i)},children:Object(O.jsx)(k.b.Provider,{value:{size:"30"},children:!1===i?Object(O.jsx)(E.s,{}):Object(O.jsx)(E.u,{})})}),!1===i&&Object(O.jsx)("span",{style:{display:"inline-block",marginLeft:"10px"},children:"IP Manager"})]})}),Object(O.jsx)(z.d,{children:t.map((function(e,t){return Object(O.jsx)(z.a,{iconShape:"circle",children:Object(O.jsxs)(z.b,{icon:h(e.icon),children:[e.name,Object(O.jsx)(o.b,{onClick:function(){return s(!0)},to:e.path})]})},"sidebar_item_".concat(t))}))}),Object(O.jsx)(z.e,{style:{textAlign:"center"},children:Object(O.jsx)("div",{style:{padding:"20px 24px"},children:Object(O.jsx)("img",{alt:"VNPT Icon",width:"30",src:I})})})]})},J=function(){var e=[],t=Object(d.b)(),c=Object(n.useState)([]),a=Object(l.a)(c,2),i=a[0],b=a[1];return Object(n.useEffect)((function(){fetch("/obj_type/list",{method:"POST",redirect:"follow"}).then((function(e){return e.json()})).then((function(c){if(200===c.code){t({type:f});var n,a=Object(r.a)(c.msg);try{for(a.s();!(n=a.n()).done;){var i=n.value;e.push(Object(s.a)(Object(s.a)({},i),{},{path:"/".concat(i.obj_type_name.toLowerCase()),name:i.obj_type_name,autoRender:!0}))}}catch(l){a.e(l)}finally{a.f()}e.push({icon:"BsCardList",path:"/rules",name:"Rules",autoRender:!1}),b(e)}else t({type:v,msg:c.msg[0]})})).catch((function(e){t({type:v,msg:e})}))}),[]),Object(O.jsxs)(o.a,{children:[Object(O.jsx)(M,{list_item:i}),Object(O.jsxs)(j.d,{children:[i.map((function(e,t){return!0===e.autoRender&&Object(O.jsx)(j.b,{exact:!0,path:e.path,children:Object(O.jsx)(T,{_title:e.name,_obj_type_id:e.obj_type_id,_obj_type_name:e.obj_type_name})})})),Object(O.jsx)(j.b,{exact:!0,path:"/rules",children:Object(O.jsx)(S,{_title:"Rules"})}),Object(O.jsx)(j.b,{children:Object(O.jsx)(x,{_title:"404"})})]}),Object(O.jsx)(j.a,{to:"/blacklist"})]})},B=function(e){e&&e instanceof Function&&c.e(3).then(c.bind(null,52)).then((function(t){var c=t.getCLS,n=t.getFID,a=t.getFCP,i=t.getLCP,s=t.getTTFB;c(e),n(e),a(e),i(e),s(e)}))},D=c(21),H=!1,W={is_open:H,_index:0},A=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:W,t=arguments.length>1?arguments[1]:void 0,c=t.type;switch(c){case b:return Object(s.a)(Object(s.a)({},e),{},{is_open:true});case u:return Object(s.a)(Object(s.a)({},e),{},{is_open:H});case h:return Object(s.a)(Object(s.a)({},e),{},{is_open:H,_index:t.index});default:return e}},K={loading:!0,error:!1,_msg:""},V=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:K,t=arguments.length>1?arguments[1]:void 0,c=t.type;switch(c){case g:return Object(s.a)(Object(s.a)({},e),{},{loading:!0,error:!1,_msg:"loading"});case v:return Object(s.a)(Object(s.a)({},e),{},{error:!0,loading:!1,_msg:t._msg});case f:case _:return Object(s.a)(Object(s.a)({},e),{},{loading:!1,error:!1,_msg:""});default:return e}},q=Object(D.a)({SideBar:A,Status:V});console.log("production");var G=Object(D.b)(q);i.a.render(Object(O.jsx)(d.a,{store:G,children:Object(O.jsx)(J,{})}),document.getElementById("root")),B()}},[[51,1,2]]]);
//# sourceMappingURL=main.e69e3b1a.chunk.js.map