(this.webpackJsonpip_mana_fe=this.webpackJsonpip_mana_fe||[]).push([[0],{49:function(e,t,a){},50:function(e,t,a){},57:function(e,t,a){},60:function(e,t,a){},77:function(e,t,a){},78:function(e,t,a){"use strict";a.r(t);var c=a(2),n=a(15),l=a.n(n),s=(a(49),a(3)),r=a(7),i=a(6),o=a(17),d=a(8),j=(a(50),a(10)),b="SELECT_ITEM",u="/",p=" | IP  Manager",h="/obj/get_object_info",m="/obj_type/list",O="/pro/list",x="/rules/list",f=a(1),_=function(e){var t=e._title,a=Object(j.b)();return Object(c.useEffect)((function(){document.title=t+p}),[]),Object(f.jsx)("div",{className:"notfound_wrap",children:Object(f.jsxs)("div",{className:"center-div text-center",children:[Object(f.jsx)("span",{className:"notfound_title",children:"404"}),Object(f.jsxs)("span",{className:"notfound_desc",children:["Hmm, seem you're lost! Let's go\xa0",Object(f.jsx)(o.b,{to:"/blacklist",onClick:function(){a({type:b,index:0})},children:"back"})]})]})})},g=(a(57),"loading"),v="loaded",y="error",N="success",C=a(35),w=a(36),k=a(37),S=a(38),P=a(0),T=a(22),z=a.n(T),F=a(5),A=a(27),L=(a(60),function(e){var t=e.show,a=e.title,c=e.children,n=e.onClickOut,l=e.WrapClass,s=e.CloseModal,r=e.ModalWidth;return!0!==t?null:Object(f.jsx)("div",{className:l,onClick:n,children:Object(f.jsxs)("div",{className:"modal_container",style:r?{width:r}:void 0,onClick:function(e){return e.stopPropagation()},children:[Object(f.jsxs)("div",{className:"modal_title",children:[Object(f.jsx)("span",{className:"modal_close_btn",onClick:s,children:Object(f.jsx)(P.b.Provider,{value:{size:16,color:"#939393"},children:Object(f.jsx)(A.Qi,{})})}),Object(f.jsx)("p",{children:a})]}),Object(f.jsx)("div",{style:{maxHeight:"95vh",overflowY:"auto",overflowX:"auto",padding:"0 10px"},children:c})]})})});var R=function(e){var t=e._title,a=Object(j.b)(),n=Object(c.useState)({}),l=Object(i.a)(n,2),d=l[0],b=l[1],u=Object(c.useState)(!1),h=Object(i.a)(u,2),m=h[0],O=h[1],_=Object(c.useState)([]),N=Object(i.a)(_,2),T=N[0],A=N[1],R=Object(c.useState)(""),E=Object(i.a)(R,2),q=E[0],D=E[1],W=Object(c.useState)({mode:-1,data:{},show:!1,title:"no title"}),M=Object(i.a)(W,2),I=M[0],H=M[1],B=Object(j.c)((function(e){return e.Status})),J=B.loading,U=(B.error,B._msg,Object(c.useState)({notMatchRegex:!1,value:""})),K=Object(i.a)(U,2),V=K[0],G=K[1],Q=function(e,t,c){var n=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],l=new Headers;l.append("Content-Type","application/json");var s={method:"POST",headers:l,body:JSON.stringify(t),redirect:"follow"};a({type:g}),fetch(e,s).then((function(e){return e.json()})).then((function(e){200===e.code?(n&&a({type:v}),c(e.msg,null)):(n&&a({type:y,msg:e.msg[0]}),F.b.error(e.msg))})).catch((function(e){n&&a({type:y,msg:e}),F.b.error(e)}))},X=function(e){G(Object(s.a)(Object(s.a)({},V),{},{notMatchRegex:!1,value:""})),b(e)},Y=function(){Q(x,void 0,(function(e){X(e[0]),A(e)}))};return Object(c.useEffect)((function(){a({type:g}),document.title=t+p;var e=[{url:x,requestOptions:{method:"POST",redirect:"follow"}}];return Promise.all(e.map((function(e){return fetch(e.url,e.requestOptions)}))).then((function(e){return Promise.all(e.map((function(e){return e.json()})))})).then((function(e){var t,c=!1,n=Object(r.a)(e);try{for(n.s();!(t=n.n()).done;){var l=t.value;200!==l.code&&(a({type:y,msg:l.msg}),c=!0),c||(a({type:v}),A(e[0].msg),e[0].msg.length>0&&X(e[0].msg[0]))}}catch(s){n.e(s)}finally{n.f()}})).catch((function(e){a({type:y,msg:e})})),function(){A([])}}),[]),Object(f.jsxs)("div",{className:"container",onClick:function(){return O(!1)},children:[Object(f.jsx)(F.a,{position:"top-right",autoClose:5e3,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!1,theme:"colored",draggable:!1,pauseOnHover:!0}),Object(f.jsx)(L,{show:I.show,title:I.title,onClickOut:function(e){H(Object(s.a)(Object(s.a)({},I),{},{show:!1}))},CloseModal:function(e){return H(Object(s.a)(Object(s.a)({},I),{},{show:!1}))},WrapClass:"modal_wrap",children:1===I.mode&&Object(f.jsxs)("div",{style:{minWidth:"60vw"},children:[Object(f.jsxs)("div",{className:"margin-top-20",children:[Object(f.jsx)("label",{htmlFor:"_insert_rule_name",children:Object(f.jsx)("span",{className:"bold",style:{textTransform:"capitalize"},children:"Rule's name:"})}),Object(f.jsx)("input",{className:"form-control",id:"_insert_rule_name",placeholder:"Rule's name",value:I.data.rule_name,onChange:function(e){H(Object(s.a)(Object(s.a)({},I),{},{data:Object(s.a)(Object(s.a)({},I.data),{},{rule_name:e.target.value})}))}})]}),Object(f.jsxs)("div",{className:"margin-top-20",children:[Object(f.jsx)("label",{htmlFor:"_insert_rule_desc",children:Object(f.jsx)("span",{className:"bold",style:{textTransform:"capitalize"},children:"Rule's desc:"})}),Object(f.jsx)("input",{className:"form-control",id:"_insert_rule_desc",placeholder:"Rule's name",value:I.data.rule_desc,onChange:function(e){H(Object(s.a)(Object(s.a)({},I),{},{data:Object(s.a)(Object(s.a)({},I.data),{},{rule_desc:e.target.value})}))}})]}),Object(f.jsxs)("div",{className:"margin-top-20",children:[Object(f.jsx)("label",{htmlFor:"_insert_rule_regex",children:Object(f.jsx)("span",{className:"bold",style:{textTransform:"capitalize"},children:"Rule's regex:"})}),Object(f.jsx)("input",{className:"form-control",id:"_insert_rule_regex",placeholder:"Rule's name",value:I.data.rule_regex,onChange:function(e){H(Object(s.a)(Object(s.a)({},I),{},{data:Object(s.a)(Object(s.a)({},I.data),{},{rule_regex:e.target.value})}))}})]}),Object(f.jsxs)("div",{className:"margin-top-25",children:[Object(f.jsx)("button",{className:"btn pull-right",onClick:function(e){return H(Object(s.a)(Object(s.a)({},I),{},{show:!1}))},children:"Cancel"}),Object(f.jsx)("button",{className:"btn pull-right margin-right-10 theme_green",onClick:function(){if(""!==I.data.rule_name.trim()){var e={rule_name:I.data.rule_name,rule_desc:I.data.rule_desc,rule_regex:I.data.rule_regex};Q("/rules/insert",e,(function(e){H(Object(s.a)(Object(s.a)({},I),{},{show:!1})),Y(),F.b.success(e)}),!1)}else F.b.error("Rule needs a name")},children:"Create"})]})]})}),Object(f.jsxs)("div",{className:"box-style",style:{height:"calc(100% - 40px)",padding:"20px",display:"flex",position:"relative"},children:[Object(f.jsxs)("div",{style:{width:"300px",height:"calc(100% - 30px)",display:"inline-block"},children:[Object(f.jsx)("input",{className:"form-control",onChange:function(e){return D(e.target.value)},onKeyDown:function(e){13===e.keyCode&&!1===J&&Q("/rules/search",{rule_name:q},(function(e){A(e),e.length>0&&X(e[0])}))},placeholder:"Find by rule's name ..."}),Object(f.jsx)("div",{className:"list-container margin-top-10",children:0===T.length?Object(f.jsx)("div",{children:Object(f.jsx)("span",{children:"No rule founded!"})}):T.map((function(e,t){return Object(f.jsx)("div",{className:"list-item",onClick:function(t){return X(e)},children:e.rule_name},t)}))})]}),Array.isArray(T)&&T.length>0&&Object(f.jsxs)("div",{style:{width:"calc(100% - 350px)",height:"calc(100% - 70px)",marginLeft:"50px",marginTop:"50px",display:"inline-block",overflow:"auto",padding:"10px"},children:[Object(f.jsxs)("div",{className:"margin-top-20",children:[Object(f.jsx)("label",{htmlFor:"name",children:Object(f.jsx)("span",{className:"bold",children:"Rule's name:"})}),Object(f.jsx)("input",{className:"form-control",id:"name",value:d.rule_name,onChange:function(e){b(Object(s.a)(Object(s.a)({},d),{},{rule_name:e.target.value}))}})]}),Object(f.jsxs)("div",{className:"margin-top-20",children:[Object(f.jsx)("label",{htmlFor:"desc",children:Object(f.jsx)("span",{className:"bold",children:"Rule's description:"})}),Object(f.jsx)("input",{className:"form-control",id:"desc",value:d.rule_desc,onChange:function(e){b(Object(s.a)(Object(s.a)({},d),{},{rule_desc:e.target.value}))}})]}),Object(f.jsxs)("div",{className:"margin-top-20",children:[Object(f.jsxs)("label",{htmlFor:"reg",children:[Object(f.jsx)("span",{className:"bold",children:"Rule's regex: "}),"(Regex instruction ",Object(f.jsx)(o.b,{target:"_blank",to:{pathname:"https://docs.microsoft.com/en-us/dotnet/standard/base-types/regular-expression-language-quick-reference"},children:"here"}),")"]}),Object(f.jsx)("input",{className:"form-control",id:"reg",value:d.rule_regex,onChange:function(e){b(Object(s.a)(Object(s.a)({},d),{},{rule_regex:e.target.value}))}})]}),Object(f.jsxs)("div",{className:"margin-top-20",children:[Object(f.jsx)("label",{htmlFor:"test_regex",children:Object(f.jsx)("span",{className:"bold",children:"Test regex: "})}),Object(f.jsx)("input",{className:"form-control",id:"test_regex",placeholder:"Type something",value:V.value,onChange:function(e){var t=new RegExp(d.rule_regex,"g");G(Object(s.a)(Object(s.a)({},V),{},{value:e.target.value,notMatchRegex:""!==e.target.value&&!t.test(e.target.value)}))}}),V.notMatchRegex&&Object(f.jsx)("small",{className:"error",children:"Not match regex"})]}),Object(f.jsx)("div",{className:"margin-top-20",children:Object(f.jsxs)("small",{className:"italic",children:["(Created: ",d.created_at,", Last update: ",d.updated_at,")"]})}),Object(f.jsxs)("div",{className:"margin-top-20",children:[Object(f.jsxs)("button",{className:"btn pull-right theme_red margin-left-10",onClick:function(){z()({title:"Delete",text:"Rule data will be removed and CAN NOT recover. Continue?",icon:"warning",buttons:!0,dangerMode:!0}).then((function(e){if(e){var t={rule_id:d.rule_id};Q("/rules/delete",t,(function(e){Y(),F.b.success(e)}),!1)}}))},children:[Object(f.jsx)(P.b.Provider,{value:{size:22,color:"white",className:"middle-btn"},children:Object(f.jsx)(C.Cw,{})}),"\xa0Delete rule"]}),Object(f.jsxs)("button",{className:"btn pull-right theme_cyan",onClick:function(){if(""!==d.rule_name.trim()){var e={rule_id:d.rule_id,rule_name:d.rule_name,rule_desc:d.rule_desc,rule_regex:d.rule_regex};Q("/rules/update",e,(function(e){H(Object(s.a)(Object(s.a)({},I),{},{show:!1})),Y(),F.b.success(e)}),!1)}else F.b.error("Rule needs a name")},children:[Object(f.jsx)(P.b.Provider,{value:{size:22,color:"white",className:"middle-btn"},children:Object(f.jsx)(w.zW,{})}),"\xa0Save change"]})]})]}),Object(f.jsxs)("div",{onClick:function(e){return e.stopPropagation()},children:[Object(f.jsx)("span",{className:"fab-button",onClick:function(e){e.stopPropagation(),O(!m)},children:Object(f.jsx)(P.b.Provider,{value:{size:25,color:"white"},children:Object(f.jsx)(k.Pr,{})})}),Object(f.jsx)("div",{className:m?"application-box flex":"application-box",children:Object(f.jsxs)("button",{className:"btn theme_green700 margin-10",onClick:function(){H({mode:1,data:{rule_name:"",rule_desc:"",rule_regex:""},show:!0,title:"Create new rule"})},children:[Object(f.jsx)(P.b.Provider,{value:{size:22,className:"middle-btn"},children:Object(f.jsx)(S.c,{})}),"\xa0Create Rule"]})})]})]})]})},E=a(25),q=a(41),D=a(42),W=(a(61),a(18));var M=function(e){var t=e._title,a=e._obj_type_id,n=e._obj_type_name,l=Object(j.b)(),o=Object(c.useState)({obj_id:-1,obj_name:"",data:[]}),d=Object(i.a)(o,2),b=d[0],m=d[1],x=Object(c.useState)([]),_=Object(i.a)(x,2),N=_[0],T=_[1],A=Object(c.useState)(!1),R=Object(i.a)(A,2),M=R[0],I=R[1],H=Object(c.useState)({mode:-1,data:{},show:!1,title:"no title"}),B=Object(i.a)(H,2),J=B[0],U=B[1],K=Object(c.useState)(null),V=Object(i.a)(K,2),G=V[0],Q=V[1],X=Object(c.useState)(""),Y=Object(i.a)(X,2),Z=Y[0],$=Y[1],ee=Object(c.useState)({uploaded:!1,name:"No file",file:null}),te=Object(i.a)(ee,2),ae=te[0],ce=te[1],ne=function(e,t,a){var c=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];l({type:g});var n=new Headers;n.append("Content-Type","application/json");var s={method:"POST",headers:n,body:JSON.stringify(t),redirect:"follow"};fetch(e,s).then((function(e){return e.json()})).then((function(e){if(200===e.code)c&&l({type:v}),a(e.msg,null);else if(202===e.code){I(!1);var t=document.createElement("a");t.href=u+e.msg,t.setAttribute("target","_blank"),document.body.appendChild(t),t.click(),document.body.removeChild(t)}else a(null,e.msg),c&&l({type:y,msg:e.msg}),F.b.error(e.msg)})).catch((function(e){c&&l({type:y,msg:e}),F.b.error(e)}))},le=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:-1;-1!==e&&ce({name:"No file",uploaded:!1,file:null}),3===e?U({show:!0,title:"Instruction to create object with Excel file",data:{},mode:3}):(4===e||5===e)&&z()({title:"Developing features",text:"This features will coming soon. We're sorry about this problem!",icon:"info"})},se=function(e){ne("/obj/list",{obj_type_id:a},(function(e){var t,a=Object(r.a)(e);try{for(a.s();!(t=a.n()).done;){t.value.match_regex=!0}}catch(c){a.e(c)}finally{a.f()}T(e),e.length>0?re(e[0],0):l({type:v})}),!1)},re=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1;if(t>-1){var a=Object(E.a)(N);a.map((function(e,a){e.selected=a===t}))}var c={obj_id:e.obj_id};ne(h,c,(function(t){var a,c=Object(r.a)(t);try{for(c.s();!(a=c.n()).done;){var n=a.value,l=new RegExp(n.rule_regex,"g");n.match_regex=l.test(n.pro_value)}}catch(s){c.e(s)}finally{c.f()}m({obj_id:e.obj_id,obj_name:e.obj_name,data:t})}))},ie=function(e){var t,a=J.data.list_property_assign,c=!1,n=Object(r.a)(a);try{for(n.s();!(t=n.n()).done;){if(t.value.pro_id===e.value){c=!0;break}}}catch(l){n.e(l)}finally{n.f()}Array.isArray(a)&&!c&&(a.push(e),U(Object(s.a)(Object(s.a)({},J),{},{data:Object(s.a)(Object(s.a)({},J.data),{},{list_property_assign:a})})),Q(e))},oe=function(e){if(!0!==e.is_required){var t=J.data.list_property_assign;Array.isArray(t)&&t.map((function(a,c){e.value===a.value&&t.splice(c,1)})),U(Object(s.a)(Object(s.a)({},J),{},{data:Object(s.a)(Object(s.a)({},J.data),{},{list_property_assign:t})}))}else F.b.error("Can not remove this property!")},de=function(){var e="";if(null!==ae.file){if(3===J.mode?e="/obj/insert_object_excel":(4===J.mode||5===J.mode)&&(e=""),""!==e){l({type:g});var t=new FormData;t.append("excel_file",ae.file),t.append("obj_type_id",a),fetch(e,{method:"POST",body:t,redirect:"follow"}).then((function(e){return e.json()})).then((function(e){200===e.code?(l({type:v,_msg:e.msg}),se(),F.b.success(e.msg)):(l({type:y,_msg:e.msg}),F.b.error(e.msg))})).catch((function(e){l({type:y,_msg:e})}))}}else F.b.error("Choose a file!")},je=function(e){ce(Object(s.a)(Object(s.a)({},ae),{},{uploaded:!0,name:e.target.files[0].name,file:e.target.files[0]}))};return Object(c.useEffect)((function(){return l({type:g}),document.title=t+p,se(),function(){T([])}}),[a]),Object(f.jsxs)("div",{className:"container",onClick:function(){return I(!1)},children:[Object(f.jsx)(F.a,{position:"top-right",autoClose:5e3,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!1,theme:"colored",draggable:!1,pauseOnHover:!0}),Object(f.jsxs)(L,{show:J.show,title:J.title,onClickOut:function(e){U(Object(s.a)(Object(s.a)({},J),{},{show:!1}))},CloseModal:function(e){return U(Object(s.a)(Object(s.a)({},J),{},{show:!1}))},WrapClass:"modal_wrap",children:[3===J.mode&&Object(f.jsxs)(f.Fragment,{children:[Object(f.jsxs)("div",{children:[Object(f.jsxs)("ol",{children:[Object(f.jsxs)("li",{children:["Download template ",Object(f.jsx)("span",{onClick:function(){ne("/obj/get_excel_template",{obj_type_id:a},(function(e){var t=document.createElement("a");t.href=u+e,t.setAttribute("target","_blank"),document.body.appendChild(t),t.click(),document.body.removeChild(t)}))},style:{cursor:"pointer",textDecoration:"underline"},children:"here"})]}),Object(f.jsx)("li",{children:"Fill value into Excel"}),Object(f.jsxs)("li",{children:[Object(f.jsx)("label",{className:"link_style",htmlFor:"upload_file",children:"Click here"})," to upload filled Excel"]})]}),Object(f.jsx)("input",{className:"hide",onChange:je,id:"upload_file",type:"file",accept:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"}),null!==ae.file?Object(f.jsxs)("span",{className:"margin-left-5",children:["File ",Object(f.jsx)("span",{className:"bold",children:ae.name})," is selected"]}):Object(f.jsx)("span",{className:"margin-left-5",style:{fontStyle:"italic"},children:"No file selected!"}),Object(f.jsx)("br",{}),Object(f.jsxs)("span",{style:{fontStyle:"italic",color:"red",marginTop:"10px",display:"block"},children:["* Download new template whenever creating object because list property of ",n.toLowerCase()," can be changed in setting"]}),Object(f.jsx)("span",{style:{fontStyle:"italic",color:"red"},children:"* If you want to remove a property away from object, insert '#' character to this property cell"})]}),Object(f.jsxs)("div",{className:"margin-top-25",children:[Object(f.jsx)("button",{className:"btn pull-right",onClick:function(e){return U(Object(s.a)(Object(s.a)({},J),{},{show:!1}))},children:"Cancel"}),Object(f.jsx)("button",{className:"btn theme_blue pull-right margin-right-10",onClick:de,children:"Upload"})]})]}),4===J.mode&&Object(f.jsxs)(f.Fragment,{children:[Object(f.jsxs)("div",{children:[Object(f.jsx)("ol",{children:Object(f.jsxs)("li",{children:[Object(f.jsx)("label",{className:"link_style",htmlFor:"upload_file",children:"Click here"})," to upload Excel"]})}),Object(f.jsx)("input",{className:"hide",onChange:je,id:"upload_file",type:"file",accept:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"}),null!==ae.file?Object(f.jsxs)("span",{className:"margin-left-5",children:["File ",Object(f.jsx)("span",{className:"bold",children:ae.name})," is selected"]}):Object(f.jsx)("span",{className:"margin-left-5",style:{fontStyle:"italic"},children:"No file selected!"}),Object(f.jsx)("br",{})]}),Object(f.jsxs)("div",{className:"margin-top-25",children:[Object(f.jsx)("button",{className:"btn pull-right",onClick:function(e){return U(Object(s.a)(Object(s.a)({},J),{},{show:!1}))},children:"Cancel"}),Object(f.jsx)("button",{className:"btn pull-right margin-right-10 "+(4===J.mode?"theme_green":"theme_red"),onClick:de,children:"Upload"})]})]}),5===J.mode&&Object(f.jsxs)(f.Fragment,{children:[Object(f.jsxs)("div",{children:[Object(f.jsxs)("span",{className:"err_msg margin-bottom-10",children:["* System will delete all object in ",n," depend on 'Object ID' column in Excel file and CAN NOT recover. Please be careful!"]}),Object(f.jsx)("ol",{children:Object(f.jsxs)("li",{children:[Object(f.jsx)("label",{className:"link_style",htmlFor:"upload_file",children:"Click here"})," to upload Excel"]})}),Object(f.jsx)("input",{className:"hide",onChange:je,id:"upload_file",type:"file",accept:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"}),null!==ae.file?Object(f.jsxs)("span",{className:"margin-left-5",children:["File ",Object(f.jsx)("span",{className:"bold",children:ae.name})," is selected"]}):Object(f.jsx)("span",{className:"margin-left-5",style:{fontStyle:"italic"},children:"No file selected!"}),Object(f.jsx)("br",{})]}),Object(f.jsxs)("div",{className:"margin-top-25",children:[Object(f.jsx)("button",{className:"btn pull-right",onClick:function(e){return U(Object(s.a)(Object(s.a)({},J),{},{show:!1}))},children:"Cancel"}),Object(f.jsx)("button",{className:"btn pull-right margin-right-10 "+(4===J.mode?"theme_green":"theme_red"),onClick:de,children:"Upload"})]})]}),2===J.mode&&Object(f.jsxs)("div",{style:{minHeight:"60vh",minWidth:"60vw"},children:[Object(f.jsxs)("small",{className:"err_msg",children:["* ",n," has a lot of required property that will be add automatic when you create object!"]}),Object(f.jsx)("small",{className:"err_msg margin-top-5",children:"* Required property CAN NOT removed by manually!"}),Object(f.jsxs)("div",{className:"margin-top-20",children:[Object(f.jsx)("label",{htmlFor:"_insert_object_name",children:Object(f.jsx)("span",{className:"bold",style:{textTransform:"capitalize"},children:"Object's name:"})}),Object(f.jsx)("input",{className:"form-control",id:"_insert_object_name",placeholder:"Type a name...",value:J.data.obj_name,onChange:function(e){U(Object(s.a)(Object(s.a)({},J),{},{data:Object(s.a)(Object(s.a)({},J.data),{},{obj_name:e.target.value})}))}})]}),Object(f.jsxs)("div",{className:"margin-top-20",children:[Object(f.jsx)("label",{htmlFor:"_insert_object_desc",children:Object(f.jsx)("span",{className:"bold",style:{textTransform:"capitalize"},children:"Description:"})}),Object(f.jsx)("input",{className:"form-control",id:"_insert_object_desc",placeholder:"Description",value:J.data.obj_desc,onChange:function(e){U(Object(s.a)(Object(s.a)({},J),{},{data:Object(s.a)(Object(s.a)({},J.data),{},{obj_desc:e.target.value})}))}})]}),Object(f.jsxs)("div",{className:"margin-top-20 margin-bottom-20",children:[Object(f.jsx)("label",{children:Object(f.jsx)("span",{className:"bold",style:{textTransform:"capitalize"},children:"Select property:"})}),Object(f.jsx)(W.a,{options:J.data.list_property,value:G,onChange:ie,placeholder:"Select a property"})]}),Object(f.jsxs)("div",{children:[Array.isArray(J.data.list_property_assign)&&J.data.list_property_assign.length>0&&Object(f.jsxs)("table",{className:"nice_theme margin-top-20",style:{minWidth:"650px"},children:[Object(f.jsx)("thead",{className:"text-center",children:Object(f.jsxs)("tr",{children:[Object(f.jsx)("th",{children:"Index"}),Object(f.jsx)("th",{children:"Property"}),Object(f.jsx)("th",{children:"Remove"})]})}),Object(f.jsx)("tbody",{children:Array.isArray(J.data.list_property_assign)&&J.data.list_property_assign.map((function(e,t){return Object(f.jsxs)("tr",{children:[Object(f.jsx)("td",{className:"text-center",children:t+1}),Object(f.jsx)("td",{className:"bold",children:e.pro_name}),Object(f.jsx)("td",{className:"text-center",children:!1===e.is_required?Object(f.jsx)("span",{onClick:function(t){return oe(e)},children:Object(f.jsx)(P.b.Provider,{value:{color:"red",size:"20"},children:Object(f.jsx)(C.xw,{})})}):Object(f.jsx)("span",{children:"Required"})})]},e.id)}))})]}),Object(f.jsx)("button",{className:"btn pull-right",onClick:function(e){return U(Object(s.a)(Object(s.a)({},J),{},{show:!1}))},children:"Cancel"}),Object(f.jsx)("button",{className:"btn theme_green pull-right margin-right-10",onClick:function(){if(""!==J.data.obj_name.trim()){var e,t=[],c=Object(r.a)(J.data.list_property_assign);try{for(c.s();!(e=c.n()).done;){var n=e.value;t.push(n.value)}}catch(i){c.e(i)}finally{c.f()}var l={obj_type_id:a,obj_name:J.data.obj_name,obj_desc:J.data.obj_desc,list_pro_id:t};ne("/obj/insert",l,(function(e){U(Object(s.a)(Object(s.a)({},J),{},{show:!1})),se(),F.b.success(e)}))}else F.b.error("Object needs a name!")},children:"Create"})]})]}),1===J.mode&&Object(f.jsxs)("div",{style:{minHeight:"60vh",minWidth:"60vw"},children:[Object(f.jsxs)("div",{className:"margin-top-20",children:[Object(f.jsx)("label",{children:Object(f.jsx)("span",{className:"bold",style:{textTransform:"capitalize"},children:"Select property:"})}),Object(f.jsx)(W.a,{options:J.data.list_property,value:G,onChange:ie})]}),Object(f.jsxs)("div",{children:[Array.isArray(J.data.list_property_assign)&&J.data.list_property_assign.length>0&&Object(f.jsxs)("table",{className:"nice_theme margin-top-20",style:{minWidth:"650px"},children:[Object(f.jsx)("thead",{className:"text-center",children:Object(f.jsxs)("tr",{children:[Object(f.jsx)("th",{children:"Index"}),Object(f.jsx)("th",{children:"Property"}),Object(f.jsx)("th",{children:"Remove"})]})}),Object(f.jsx)("tbody",{children:Array.isArray(J.data.list_property_assign)&&J.data.list_property_assign.map((function(e,t){return Object(f.jsxs)("tr",{children:[Object(f.jsx)("td",{className:"text-center",children:t+1}),Object(f.jsx)("td",{className:"bold",children:e.pro_name}),Object(f.jsx)("td",{className:"text-center",children:!1===e.is_required?Object(f.jsx)("span",{onClick:function(t){return oe(e)},children:Object(f.jsx)(P.b.Provider,{value:{color:"red",size:"20"},children:Object(f.jsx)(C.xw,{})})}):Object(f.jsx)("span",{children:"Required"})})]},e.id)}))})]}),Object(f.jsx)("button",{className:"btn pull-right",onClick:function(e){return U(Object(s.a)(Object(s.a)({},J),{},{show:!1}))},children:"Cancel"}),Object(f.jsx)("button",{className:"btn theme_yellow pull-right margin-right-10",onClick:function(){var e,t=[],c=Object(r.a)(J.data.list_property_assign);try{for(c.s();!(e=c.n()).done;){var n=e.value;t.push(n.value)}}catch(i){c.e(i)}finally{c.f()}var l={obj_id:b.obj_id,list_pro_id:t,obj_type_id:a};ne("/pro/add_property_to_object",l,(function(e,t){re(b,0),U(Object(s.a)(Object(s.a)({},J),{},{show:!1})),F.b.success(e)}))},children:"Save"})]})]})]}),Object(f.jsxs)("div",{className:"box-style",style:{height:"calc(100% - 40px)",padding:"20px",display:"flex",position:"relative"},children:[Object(f.jsxs)("div",{style:{width:"300px",height:"calc(100% - 30px)",display:"inline-block"},children:[Object(f.jsx)("input",{className:"form-control",onKeyDown:function(e){13===e.keyCode&&ne("/obj/search",{obj_name:Z,obj_type_id:a},(function(e){T(e),re(e[0],0)}),!1)},onChange:function(e){return $(e.target.value)},value:Z,placeholder:"Find by ".concat(n.toLowerCase()," name ...")}),Object(f.jsx)("div",{className:"list-container margin-top-10",children:Array.isArray(N)&&0===N.length?Object(f.jsx)("div",{children:Object(f.jsx)("span",{children:"No object!"})}):Array.isArray(N)&&N.map((function(e,t){return Object(f.jsx)("div",{className:!0===e.selected?"list-item theme_green":"list-item",onClick:function(a){return re(e,t)},children:e.obj_name},t)}))})]}),Array.isArray(N)&&N.length>0&&Object(f.jsxs)("div",{style:{width:"calc(100% - 350px)",height:"calc(100% - 70px)",marginLeft:"50px",display:"inline-block",overflow:"auto",padding:"10px"},children:[Object(f.jsxs)("div",{style:{width:"100%",display:"inline-block",textTransform:"capitalize"},children:[Object(f.jsxs)("span",{style:{fontWeight:"bold",fontSize:"25px",display:"inline-block",marginTop:"15px"},children:[n.toLowerCase()," : ",b.obj_name]}),Object(f.jsxs)("button",{className:"btn theme_brown margin-10 pull-right",onClick:function(){var e={obj_id:b.obj_id};ne("/pro/get_list_pro_by_obj_id",e,(function(e){var t,a=[],c=[],n=Object(r.a)(e.list_property);try{for(n.s();!(t=n.n()).done;){var l=t.value;a.push(Object(s.a)({value:l.pro_id,label:l.pro_name},l))}}catch(j){n.e(j)}finally{n.f()}var i,o=Object(r.a)(e.list_property_assign);try{for(o.s();!(i=o.n()).done;){var d=i.value;c.push(Object(s.a)({value:d.pro_id,label:d.pro_name},d))}}catch(j){o.e(j)}finally{o.f()}Q(null),U(Object(s.a)(Object(s.a)({},J),{},{show:!0,mode:1,data:{list_property:a,list_property_assign:c},title:"Add property to ".concat(b.obj_name)}))}))},children:[Object(f.jsx)(P.b.Provider,{value:{size:22,className:"middle-btn"},children:Object(f.jsx)(S.c,{})}),"\xa0Add property to ",b.obj_name]})]}),b.data.map((function(e,t){return Object(f.jsxs)("div",{className:"margin-top-20",children:[Object(f.jsx)("label",{htmlFor:"_pro_item_"+t,children:Object(f.jsxs)("span",{className:"bold",style:{textTransform:"capitalize"},children:[e.pro_name.toLowerCase(),":"]})}),Object(f.jsx)("input",{className:!1===e.match_regex?"form-control form-control-err":"form-control",placeholder:""!==e.pro_desc?e.pro_desc:"Fill value",id:"_pro_item_"+t,value:e.pro_value,onChange:function(e){return function(e,t){var a=Object(E.a)(b.data),c=new RegExp(a[t].rule_regex,"g");a[t].pro_value=e.target.value,a[t].match_regex=c.test(e.target.value),m(Object(s.a)(Object(s.a)({},b),{},{CopyDetailData:a}))}(e,t)}}),Object(f.jsxs)("small",{className:"italic",children:["(Created: ",e.created_at,", Last update: ",e.updated_at,")"]}),Object(f.jsx)("br",{}),!1===e.match_regex&&Object(f.jsxs)("small",{className:"err_msg italic",children:['Not match rule "',e.rule_name,'"']})]},t)})),Object(f.jsxs)("div",{className:"margin-top-20",children:[Object(f.jsxs)("button",{className:"btn pull-right theme_red margin-left-10",onClick:function(){z()({title:"DELETE",text:"Delete '".concat(b.obj_name,"' will delete all object's property. Continue?"),icon:"warning",buttons:!0,dangerMode:!0}).then((function(e){if(e){var t={obj_id:b.obj_id};ne("/obj/delete",t,(function(e,t){null==t&&(se(),F.b.success(e))}),!1)}}))},children:[Object(f.jsx)(P.b.Provider,{value:{size:22,color:"white",className:"middle-btn"},children:Object(f.jsx)(C.Cw,{})}),"\xa0Delete"]}),Object(f.jsxs)("button",{className:"btn pull-right theme_cyan",onClick:function(){var e,t=!1,a=Object(r.a)(b.data);try{for(a.s();!(e=a.n()).done;){var c=e.value;if(!1===c.match_regex){F.b.error("Value of ".concat(c.pro_name," property is not match rule's regex!")),t=!0;break}}}catch(o){a.e(o)}finally{a.f()}if(!t){var n,l=[],s=Object(r.a)(b.data);try{for(s.s();!(n=s.n()).done;){var i=n.value;l.push({obj_id:i.obj_id,pro_id:i.pro_id,pro_value:i.pro_value})}}catch(o){s.e(o)}finally{s.f()}ne("/obj/update_property",{list_property:l},(function(e){F.b.success(e),re(b,0)}))}},children:[Object(f.jsx)(P.b.Provider,{value:{size:22,color:"white",className:"middle-btn"},children:Object(f.jsx)(w.zW,{})}),"\xa0Save change"]})]})]}),Object(f.jsxs)("div",{onClick:function(e){return e.stopPropagation()},children:[Object(f.jsx)("span",{className:"fab-button",onClick:function(e){e.stopPropagation(),I(!M)},children:Object(f.jsx)(P.b.Provider,{value:{size:25,color:"white"},children:Object(f.jsx)(k.Pr,{})})}),Object(f.jsxs)("div",{className:M?"application-box flex":"application-box",children:[Object(f.jsxs)("button",{className:"btn theme_cyan margin-10",onClick:function(){ne("/obj/export_data",{obj_type_id:a})},children:[Object(f.jsx)(P.b.Provider,{value:{size:22,className:"middle-btn"},children:Object(f.jsx)(q.Gb,{})}),"\xa0Export all ",n," data"]}),Object(f.jsxs)("button",{className:"btn theme_orange margin-10",onClick:function(e){return le(3)},children:[Object(f.jsx)(P.b.Provider,{value:{size:22,className:"middle-btn"},children:Object(f.jsx)(D.cv,{})}),"\xa0Create object (Excel)"]}),Object(f.jsxs)("button",{className:"btn theme_orange margin-10",onClick:function(e){return le(4)},children:[Object(f.jsx)(P.b.Provider,{value:{size:22,className:"middle-btn"},children:Object(f.jsx)(D.cv,{})}),"\xa0Update object (Excel)"]}),Object(f.jsxs)("button",{className:"btn theme_orange margin-10",onClick:function(e){return le(5)},children:[Object(f.jsx)(P.b.Provider,{value:{size:22,className:"middle-btn"},children:Object(f.jsx)(D.cv,{})}),"\xa0Delete object (Excel)"]}),Object(f.jsxs)("button",{className:"btn theme_green700 margin-10",onClick:function(){l({type:g}),ne(O,{obj_type_id:a},(function(e,t){var c,n=[],l=Object(r.a)(e);try{for(l.s();!(c=l.n()).done;){var i=c.value;n.push(Object(s.a)({value:i.pro_id,label:i.pro_name},i))}}catch(t){l.e(t)}finally{l.f()}Q(null),U({show:!0,title:"Create new object",data:{obj_name:"",obj_desc:"",obj_type_id:a,list_property:n,list_property_assign:[]},mode:2})}))},children:[Object(f.jsx)(P.b.Provider,{value:{size:22,className:"middle-btn"},children:Object(f.jsx)(S.c,{})}),"\xa0Create object (Manual)"]})]})]})]})]})},I=(a(76),a(19)),H=a(23),B=a.p+"static/media/sidebar_bg.4093c966.png",J=a.p+"static/media/vnpt.ac4800f4.svg";var U=function(e){var t=e.list_item,a=Object(c.useState)(!0),n=Object(i.a)(a,2),l=n[0],s=n[1],r=function(){var e=window;return{width:e.innerWidth,height:e.innerHeight}},d=Object(c.useState)(r()),j=Object(i.a)(d,2),b=j[0],u=j[1],p=function(e){var t=H[e];return t?Object(f.jsx)(t,{}):Object(f.jsx)(C.ac,{})};return Object(c.useEffect)((function(){function e(){u(r())}return window.addEventListener("resize",e),function(){window.removeEventListener("resize",e)}}),[]),Object(f.jsxs)(I.c,{image:B,breakPoint:"md",collapsed:l,style:{height:b.height+"px",display:"inline-block",position:"fixed",top:"0",left:"0"},children:[Object(f.jsx)(I.f,{children:Object(f.jsxs)("div",{style:{display:"flex",alignItems:"center",padding:"24px",textTransform:"uppercase",fontWeight:"bold",fontSize:18,letterSpacing:"1px",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap",color:"#e5e5e5"},children:[Object(f.jsx)("span",{onClick:function(){return s(!l)},children:Object(f.jsx)(P.b.Provider,{value:{size:"30"},children:!1===l?Object(f.jsx)(A.s,{}):Object(f.jsx)(A.u,{})})}),!1===l&&Object(f.jsx)("span",{style:{display:"inline-block",marginLeft:"10px"},children:"IP Manager"})]})}),Object(f.jsx)(I.d,{children:t.map((function(e,t){return Object(f.jsx)(I.a,{iconShape:"circle",children:Object(f.jsxs)(I.b,{icon:p(e.icon),children:[e.name,Object(f.jsx)(o.b,{onClick:function(){return s(!0)},to:e.path})]})},"sidebar_item_".concat(t))}))}),Object(f.jsx)(I.e,{style:{textAlign:"center"},children:Object(f.jsx)("div",{style:{padding:"20px 24px"},children:Object(f.jsx)("img",{alt:"VNPT Icon",width:"30",src:J})})})]})};var K=function(e){var t=e._title,a=Object(j.b)(),n=Object(c.useState)(!1),l=Object(i.a)(n,2),o=l[0],d=l[1],b=Object(c.useState)([]),u=Object(i.a)(b,2),h=u[0],_=u[1],N=Object(c.useState)([]),T=Object(i.a)(N,2),z=T[0],A=T[1],R=Object(c.useState)([]),q=Object(i.a)(R,2),D=q[0],M=q[1],I=Object(c.useState)({}),H=Object(i.a)(I,2),B=H[0],J=H[1],U=Object(c.useState)(null),K=Object(i.a)(U,2),V=K[0],G=K[1],Q=Object(c.useState)(null),X=Object(i.a)(Q,2),Y=X[0],Z=X[1],$=Object(c.useState)({mode:-1,data:{list_property:[],list_property_assign:[]},show:!1,title:"no title"}),ee=Object(i.a)($,2),te=ee[0],ae=ee[1],ce=function(e,t,c,n){var l=new Headers;l.append("Content-Type","application/json");var s={method:"POST",headers:l,body:JSON.stringify(t),redirect:"follow"};fetch(e,s).then((function(e){return e.json()})).then((function(e){200===e.code?(a({type:v}),c(e.msg,null)):(c(null,e.msg),a({type:y,msg:e.msg}),F.b.error(e.msg))})).catch((function(e){a({type:y,msg:e})}))},ne=function(e){var t={pro_id:e.pro_id};ce("/pro/get_pro_info",t,(function(t){var a=Object(s.a)({},e);a.ListObjType=[];var c,n=Object(r.a)(t);try{for(n.s();!(c=n.n()).done;){var l=c.value;a.ListObjType.push({value:l.obj_type_id,label:l.obj_type_name,is_required:l.is_required})}}catch(j){n.e(j)}finally{n.f()}var i,o=Object(r.a)(D);try{for(o.s();!(i=o.n()).done;){var d=i.value;if(d.value===a.rule_id){a.rule=d;break}}}catch(j){o.e(j)}finally{o.f()}J(a)}))},le=function(){ce(O,void 0,(function(e){var t,a=[],c=Object(r.a)(e);try{for(c.s();!(t=c.n()).done;){var n=t.value;n.ListObjType=[],a.push(n)}}catch(l){c.e(l)}finally{c.f()}_(a)}))};return Object(c.useEffect)((function(){a({type:g}),document.title=t+p;var e=[{url:O,requestOptions:{method:"POST",redirect:"follow"}},{url:m,requestOptions:{method:"POST",redirect:"follow"}},{url:x,requestOptions:{method:"POST",redirect:"follow"}}];return Promise.all(e.map((function(e){return fetch(e.url,e.requestOptions)}))).then((function(e){return Promise.all(e.map((function(e){return e.json()})))})).then((function(e){var t,c=!1,n=Object(r.a)(e);try{for(n.s();!(t=n.n()).done;){200!==t.value.code&&(c=!0,a({type:y,msg:e.msg}))}}catch(O){n.e(O)}finally{n.f()}if(!c){a({type:v});var l,s=[],i=Object(r.a)(e[0].msg);try{for(i.s();!(l=i.n()).done;){var o=l.value;o.ListObjType=[],s.push(o)}}catch(O){i.e(O)}finally{i.f()}_(s),s.length>0&&ne(s[0]);var d,j=[],b=Object(r.a)(e[1].msg);try{for(b.s();!(d=b.n()).done;){var u=d.value;j.push({value:u.obj_type_id,label:u.obj_type_name,is_required:!1})}}catch(O){b.e(O)}finally{b.f()}console.log(j),A(j),j=[];var p,h=Object(r.a)(e[2].msg);try{for(h.s();!(p=h.n()).done;){var m=p.value;j.push({value:m.rule_id,label:m.rule_name})}}catch(O){h.e(O)}finally{h.f()}M(j)}})).catch((function(e){a({type:y,msg:e})})),function(){_([]),M([]),A([])}}),[]),Object(f.jsxs)("div",{className:"container",onClick:function(){return d(!1)},children:[Object(f.jsx)(F.a,{position:"top-right",autoClose:4e3,hideProgressBar:!0,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!1,theme:"colored",draggable:!1,pauseOnHover:!0}),Object(f.jsx)(L,{show:te.show,title:te.title,onClickOut:function(e){ae(Object(s.a)(Object(s.a)({},te),{},{show:!1}))},CloseModal:function(e){return ae(Object(s.a)(Object(s.a)({},te),{},{show:!1}))},WrapClass:"modal_wrap",children:1===te.mode&&Object(f.jsxs)("div",{style:{minWidth:"60vw"},children:[Object(f.jsxs)("div",{className:"margin-top-20",children:[Object(f.jsx)("label",{htmlFor:"_insert_property_name",children:Object(f.jsx)("span",{className:"bold",style:{textTransform:"capitalize"},children:"Property's name:"})}),Object(f.jsx)("input",{className:"form-control",id:"_insert_property_name",placeholder:"Type a name...",value:te.data.pro_name,onChange:function(e){ae(Object(s.a)(Object(s.a)({},te),{},{data:Object(s.a)(Object(s.a)({},te.data),{},{pro_name:e.target.value})}))}})]}),Object(f.jsxs)("div",{className:"margin-top-20",children:[Object(f.jsx)("label",{htmlFor:"_insert_property_desc",children:Object(f.jsx)("span",{className:"bold",style:{textTransform:"capitalize"},children:"Description:"})}),Object(f.jsx)("input",{className:"form-control",id:"_insert_property_desc",placeholder:"Description",value:te.data.pro_desc,onChange:function(e){ae(Object(s.a)(Object(s.a)({},te),{},{data:Object(s.a)(Object(s.a)({},te.data),{},{pro_desc:e.target.value})}))}})]}),Object(f.jsxs)("div",{className:"margin-top-20 margin-bottom-20",children:[Object(f.jsx)("label",{children:Object(f.jsx)("span",{className:"bold",style:{textTransform:"capitalize"},children:"Select object type:"})}),Object(f.jsx)(W.a,{options:z,value:Y,onChange:function(e){Z(e)},isMulti:!0})]}),Object(f.jsxs)("div",{className:"margin-top-20 margin-bottom-20",children:[Object(f.jsx)("label",{children:Object(f.jsx)("span",{className:"bold",style:{textTransform:"capitalize"},children:"Select rule:"})}),Object(f.jsx)(W.a,{options:D,value:V,onChange:function(e){G(e)}})]}),Array.isArray(Y)&&Y.map((function(e,t){return Object(f.jsxs)("div",{className:"margin-top-20",children:[Object(f.jsx)("input",{id:"__cb_modal"+t,type:"checkbox",checked:e.is_required,onChange:function(e){return function(e){var t=Object(E.a)(Y);t[e].is_required=!Y[e].is_required,Z(t)}(t)}}),Object(f.jsxs)("label",{htmlFor:"__cb_modal"+t,className:"margin-left-5",children:["This property is required in ",e.label]})]},t)})),Object(f.jsx)("button",{className:"btn pull-right",onClick:function(e){return ae(Object(s.a)(Object(s.a)({},te),{},{show:!1}))},children:"Cancel"}),Object(f.jsx)("button",{className:"btn theme_green pull-right margin-right-10",onClick:function(){if(""!==te.data.pro_name.trim())if(null!==V)if(null!==Y){var e,t={pro_name:te.data.pro_name,pro_desc:te.data.pro_desc,rule_id:V.value,list_obj_type:[]},a=Object(r.a)(Y);try{for(a.s();!(e=a.n()).done;){var c=e.value;t.list_obj_type.push({obj_type_id:c.value,is_required:c.is_required})}}catch(n){a.e(n)}finally{a.f()}ce("/pro/insert",t,(function(e,t){null===t&&(ae(Object(s.a)(Object(s.a)({},te),{},{show:!1})),le(),F.b.success(e))}))}else F.b.error("Select a least an object type!");else F.b.error("Select a rule for property!");else F.b.error("Property needs a name!")},children:"Create"})]})}),Object(f.jsxs)("div",{className:"box-style",style:{height:"calc(100% - 40px)",padding:"20px",display:"flex",position:"relative"},children:[Object(f.jsxs)("div",{style:{width:"300px",height:"calc(100% - 30px)",display:"inline-block"},children:[Object(f.jsx)("input",{className:"form-control",disabled:!0,onKeyDown:function(e){},placeholder:"Find by property's name ..."}),Object(f.jsx)("div",{className:"list-container margin-top-10",children:0===h.length?Object(f.jsx)("div",{children:Object(f.jsx)("span",{children:"No property founded!"})}):h.map((function(e,t){return Object(f.jsx)("div",{className:"list-item",onClick:function(t){return ne(e)},children:e.pro_name},t)}))})]}),Array.isArray(h)&&h.length>0&&Object(f.jsxs)("div",{style:{width:"calc(100% - 350px)",height:"calc(100% - 70px)",marginLeft:"50px",marginTop:"50px",display:"inline-block",overflow:"auto",padding:"10px"},children:[Object(f.jsxs)("div",{className:"margin-top-20",children:[Object(f.jsx)("label",{htmlFor:"name",children:Object(f.jsx)("span",{className:"bold",children:"Property's name:"})}),Object(f.jsx)("input",{className:"form-control",id:"name",value:B.pro_name,onChange:function(e){J(Object(s.a)(Object(s.a)({},B),{},{pro_name:e.target.value}))}})]}),Object(f.jsxs)("div",{className:"margin-top-20",children:[Object(f.jsx)("label",{htmlFor:"desc",children:Object(f.jsx)("span",{className:"bold",children:"Property's description:"})}),Object(f.jsx)("input",{className:"form-control",id:"desc",value:B.pro_desc,onChange:function(e){J(Object(s.a)(Object(s.a)({},B),{},{pro_desc:e.target.value}))}})]}),Object(f.jsxs)("div",{className:"margin-top-20",children:[Object(f.jsx)("label",{htmlFor:"type",children:Object(f.jsx)("span",{className:"bold",children:"Object type:"})}),Object(f.jsx)(W.a,{id:"type",isMulti:!0,value:B.ListObjType,options:z,onChange:function(e){console.log(e),J(Object(s.a)(Object(s.a)({},B),{},{ListObjType:e}))}})]}),Object(f.jsxs)("div",{className:"margin-top-20",children:[Object(f.jsx)("label",{htmlFor:"rule",children:Object(f.jsx)("span",{className:"bold",children:"Rule:"})}),Object(f.jsx)(W.a,{id:"rule",value:B.rule,options:D,onChange:function(e){J(Object(s.a)(Object(s.a)({},B),{},{rule:e}))}})]}),B.hasOwnProperty("ListObjType")&&B.ListObjType.map((function(e,t){return Object(f.jsxs)("div",{className:"margin-top-20",children:[Object(f.jsx)("input",{id:"__cb"+t,type:"checkbox",checked:e.is_required,onChange:function(e){return function(e,t){var a=Object(s.a)({},B);a.ListObjType[t].is_required=!B.ListObjType[t].is_required,J(a)}(0,t)}}),Object(f.jsxs)("label",{htmlFor:"__cb"+t,className:"margin-left-5",children:["'",B.pro_name,"' is required in ",e.label]})]},t)})),Object(f.jsx)("div",{className:"margin-top-20",children:Object(f.jsxs)("small",{className:"italic",children:["(Created: ",B.created_at,", Last update: ",B.updated_at,")"]})}),Object(f.jsxs)("div",{className:"margin-top-20",children:[Object(f.jsxs)("button",{className:"btn pull-right theme_red margin-left-10",onClick:function(){var e={pro_id:B.pro_id};ce("/pro/delete",e,(function(e){ce(O,void 0,(function(e){_(e),ne(e[0])})),F.b.success(e)}))},children:[Object(f.jsx)(P.b.Provider,{value:{size:22,color:"white",className:"middle-btn"},children:Object(f.jsx)(C.Cw,{})}),"\xa0Delete"]}),Object(f.jsxs)("button",{className:"btn pull-right theme_cyan",onClick:function(){var e,t={pro_id:B.pro_id,pro_name:B.pro_name,pro_desc:B.pro_desc,rule_id:B.rule.value,list_obj_type:[]},a=Object(r.a)(B.ListObjType);try{for(a.s();!(e=a.n()).done;){var c=e.value;t.list_obj_type.push({obj_type_id:c.value,is_required:c.is_required})}}catch(n){a.e(n)}finally{a.f()}ce("/pro/update",t,(function(e){ce(O,void 0,(function(e,t){null!==t?(_(e),e.length>0&&ne(e[0])):ne(B)})),F.b.success(e)}))},children:[Object(f.jsx)(P.b.Provider,{value:{size:22,color:"white",className:"middle-btn"},children:Object(f.jsx)(w.zW,{})}),"\xa0Save change"]})]})]}),Object(f.jsxs)("div",{onClick:function(e){return e.stopPropagation()},children:[Object(f.jsx)("span",{className:"fab-button",onClick:function(e){e.stopPropagation(),d(!o)},children:Object(f.jsx)(P.b.Provider,{value:{size:25,color:"white"},children:Object(f.jsx)(k.Pr,{})})}),Object(f.jsx)("div",{className:o?"application-box flex":"application-box",children:Object(f.jsxs)("button",{className:"btn theme_green700 margin-10",onClick:function(){console.log(z),G(null),Z(null),ae({show:!0,data:{pro_name:"",pro_desc:"",rule_id:-1,list_obj_type:[]},title:"Create property",mode:1})},children:[Object(f.jsx)(P.b.Provider,{value:{size:22,className:"middle-btn"},children:Object(f.jsx)(S.c,{})}),"\xa0Create property"]})})]})]})]})};a(77);var V=function(e){return Object(f.jsx)("div",{className:"loading_container",children:Object(f.jsx)("div",{className:"center-div",children:Object(f.jsx)("div",{className:"loader",children:"Loading"})})})},G=function(){var e=[],t=Object(j.b)(),a=Object(c.useState)([]),n=Object(i.a)(a,2),l=n[0],b=n[1],u=Object(j.c)((function(e){return e.Status})),p=u.loading;u.error,u._msg;return Object(c.useEffect)((function(){fetch(m,{method:"POST",redirect:"follow"}).then((function(e){return e.json()})).then((function(a){if(200===a.code){t({type:v});var c,n=Object(r.a)(a.msg);try{for(n.s();!(c=n.n()).done;){var l=c.value;e.push(Object(s.a)(Object(s.a)({},l),{},{path:"/".concat(l.obj_type_name.toLowerCase()),name:l.obj_type_name,autoRender:!0}))}}catch(i){n.e(i)}finally{n.f()}e.push({icon:"BsCardList",path:"/rules",name:"Rules",autoRender:!1},{icon:"AiOutlinePropertySafety",path:"/property",name:"Property",autoRender:!1}),b(e)}else t({type:y,msg:a.msg[0]})})).catch((function(e){t({type:y,msg:e})}))}),[]),Object(f.jsxs)(f.Fragment,{children:[Object(f.jsxs)(o.a,{children:[Object(f.jsx)(U,{list_item:l}),Object(f.jsxs)(d.d,{children:[l.map((function(e,t){return!0===e.autoRender&&Object(f.jsx)(d.b,{exact:!0,path:e.path,children:Object(f.jsx)(M,{_title:e.name,_obj_type_id:e.obj_type_id,_obj_type_name:e.obj_type_name})})})),Object(f.jsx)(d.b,{exact:!0,path:"/rules",children:Object(f.jsx)(R,{_title:"Rules"})}),Object(f.jsx)(d.b,{exact:!0,path:"/property",children:Object(f.jsx)(K,{_title:"Rules"})}),Object(f.jsx)(d.b,{children:Object(f.jsx)(_,{_title:"404"})})]}),Object(f.jsx)(d.a,{to:Array.isArray(l)&&l.length>0?l[0].path:"/rules"})]}),p&&Object(f.jsx)(V,{})]})},Q=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,79)).then((function(t){var a=t.getCLS,c=t.getFID,n=t.getFCP,l=t.getLCP,s=t.getTTFB;a(e),c(e),n(e),l(e),s(e)}))},X=a(29),Y={loading:!0,error:!1,_msg:""},Z=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Y,t=arguments.length>1?arguments[1]:void 0,a=t.type;switch(a){case g:return Object(s.a)(Object(s.a)({},e),{},{loading:!0,error:!1,_msg:"loading"});case y:return Object(s.a)(Object(s.a)({},e),{},{error:!0,loading:!1,_msg:t._msg});case v:case N:return Object(s.a)(Object(s.a)({},e),{},{loading:!1,error:!1,_msg:""});default:return e}},$=Object(X.a)({Status:Z});console.log("production");var ee=Object(X.b)($);l.a.render(Object(f.jsx)(j.a,{store:ee,children:Object(f.jsx)(G,{})}),document.getElementById("root")),Q()}},[[78,1,2]]]);
//# sourceMappingURL=main.22d75729.chunk.js.map